!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function e(t){s(this,e),this.id=t,this.node=document.getElementById(this.id)},c=function(e){function t(e){s(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n.pages=document.getElementsByClassName("page"),n.scroller=document.getElementById("survey-scroller"),n.prev=n.node.getElementsByClassName("prev")[0],n.prev.addEventListener("click",n.prevPage.bind(n)),n.next=n.node.getElementsByClassName("next")[0],n.next.addEventListener("click",n.nextPage.bind(n)),n.submit=document.getElementById("survey-submitter"),n.setPage(0),n}return a(t,u),r(t,[{key:"setPage",value:function(e){this.index!=e&&(void 0!=this.index&&this.pages[this.index].classList.remove("showing"),this.index=e,this.pages[this.index].classList.add("showing"),this.prev.style.display=null,this.next.style.display=null,this.submit.style.display="none",this.prev.innerHTML="Prev Section",this.next.innerHTML="Next Section",0===this.index?(this.prev.style.display="none",this.next.innerHTML="Start the Survey"):this.index===this.pages.length-1&&(this.next.style.display="none",this.submit.style.display=null),this.scroller.scrollTop=0)}},{key:"nextPage",value:function(){this.index!==this.pages.length-1&&this.setPage(this.index+1)}},{key:"prevPage",value:function(){0!==this.index&&this.setPage(this.index-1)}}]),t}(),d=function(e){function t(e,n,r,i){s(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return a.id=e,a.questions=r,a.setPage=i,document.getElementById(n).addEventListener("click",a.submit.bind(a)),a}return a(t,u),r(t,[{key:"submit",value:function(){var e=this.questions.map(function(e){return e.showAdvice()});if(e.every(function(e){return 1==e}))console.log("Submitting form:"),this.node.submit();else{var t=Math.floor(e.indexOf(!1)/2)+1;console.log("setting page to index",t,e),this.setPage(t)}}}]),t}(),l=function(e){function t(e,n){s(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));r.node.classList.add("form-group");var i=document.createElement("label");return i.appendChild(document.createTextNode(n)),r.node.appendChild(i),r.output=document.createElement("textarea"),r.output.name="response["+e+"]",r.output.hidden=!0,r.output.style.display="none",r.node.appendChild(r.output),r.adviceEl=document.createElement("div"),r.adviceEl.className="advice alert-danger p-2 mb-2 rounded",r.node.appendChild(r.adviceEl),r.userInputs=document.createElement("div"),r.userInputs.className="answer",r.node.appendChild(r.userInputs),r}return a(t,u),r(t,[{key:"writeAnswer",value:function(){var e=this.answer,t=document.createTextNode(e);return this.output.innerHTML="",this.output.appendChild(t),e}},{key:"showAdvice",value:function(){var e=this.isValid;return e?(this.adviceEl.classList.remove("showing"),this.adviceEl.innerHTML=""):(this.adviceEl.classList.add("showing"),this.adviceEl.innerHTML="",this.adviceEl.appendChild(document.createTextNode(this.advice))),e}},{key:"answer",get:function(){}},{key:"isValid",get:function(){return!0}},{key:"advice",get:function(){return""}}]),t}(),p=function(e){function t(e,n,r,i){s(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));a.min=i||1,a.max=r||100;var u=document.createElement("input");return u.className="form-control",u.type="number",u.max=a.max,u.min=a.min,u.placeholder="Enter a number from "+a.min+" to "+a.max+".",a.inputEl=u,a.userInputs.appendChild(a.inputEl),a}return a(t,l),r(t,[{key:"answer",get:function(){return parseInt(this.inputEl.value)}},{key:"isValid",get:function(){var e=this.writeAnswer();return!isNaN(e)&&e<=this.max&&e>=this.min}},{key:"advice",get:function(){return"Make sure you've entered a number between "+this.min+" and "+this.max}}]),t}(),h=function(e){function t(e,n,r,i,a){s(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));u.type=i?"radio":"checkbox";var c=!0,d=!1,l=void 0;try{for(var p,h=r[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=p.value,y=m[0],f=(n=m[1],u.createCheckbox(y,n));u.userInputs.appendChild(f)}}catch(e){d=!0,l=e}finally{try{!c&&h.return&&h.return()}finally{if(d)throw l}}if("radio"!==u.type&&!0!==a){var v=document.createElement("div");v.innerHTML="Don't see your option? Click to add another.",v.className="btn btn-themed btn-sm mt-2 w-100 border-0",v.addEventListener("click",u.newCustomInput.bind(u)),u.addButton=v,u.userInputs.appendChild(v)}return u}return a(t,l),r(t,[{key:"extractCustomValue",value:function(e){return e.getElementsByTagName("input")[0].value}},{key:"extractCheckboxValue",value:function(e){var t=e.getElementsByTagName("input")[0];if(t.checked)return"radio"===this.type?t.value:t.id}},{key:"removeChild",value:function(e){this.userInputs.removeChild(e)}},{key:"createCheckbox",value:function(e,t,n,r){var i=document.createElement("div");return i.className="checklist-item form-check btn btn-light",void 0==r&&void 0==n&&(n=document.createElement("input"),"radio"===this.type?(n.id=this.id,n.name=this.id,n.value=e):n.id=e,n.type=this.type,n.checked=!1,i.addEventListener("click",function(){n.checked=!n.checked}),r=document.createTextNode(" "+t)),i.appendChild(n),i.appendChild(r),i}},{key:"newCustomInput",value:function(){var e=document.createElement("div");e.className="remove btn btn-outline-danger",e.innerHTML="&times;",e.style.paddingLeft="1px";var t=document.createElement("input");t.type="text",t.className="form-control form-control-sm",t.placeholder="Enter new option here...";var n=this.createCheckbox("","",e,t);n.classList.add("checklist-custom","d-flex","align-items-center"),e.addEventListener("click",this.removeChild.bind(this,n)),this.userInputs.insertBefore(n,this.addButton),t.focus()}},{key:"answer",get:function(){var e=this.node.getElementsByClassName("checklist-custom"),t=(e=[].concat(i(e))).map(this.extractCustomValue,this),n=this.node.getElementsByClassName("checklist-item"),r=(n=[].concat(i(n))).map(this.extractCheckboxValue,this);return r=r.filter(function(e){return void 0!=e}),t.concat(r).join("\n")}},{key:"advice",get:function(){return"Make sure to check at least one box, or add at least one custom value"}},{key:"isValid",get:function(){return""!==this.writeAnswer()}}]),t}();window.pager=new c("survey-body"),window.form=new d("survey","survey-submitter",[new p("count_simultaneous_applications","When searching for a job, roughly how many separate job applications do you tend to manage at any one time?"),new h("how_tracking","How do you normally keep track of your applications and their documents as you apply to them?",[["docs","Word Documents / Typed Up Files (.doc, .txt, .etc)"],["spread","Spreadsheets (Excel, Gnumeric, etc.)"],["paper","Pen and Paper (Notebook, Post-Its, etc.)"]]),new h("what_extra_documents","What documents have been requested from you in past applications, aside from CVs?",[["cover","Cover Letter"],["reference","Letter of Reference / Recommendation"],["philosophy","Work Philosophy"]]),new h("what_document_creation_softwares","What programs or softwares do you use to create documents for applications?",[["word","Word / Google Docs / Other Office Suite Software"],["latex","LaTeX"],["indesign","InDesign / GIMP / Other Design and Artwork Software"]]),new p("count_different_cvs","How many different CVs do you generally maintain at a given time?"),new h("what_update_frequency","How often do you update or change your CV's contents or layout?",[["job","For every job application"],["skill","Every time I acquire a new skill"],[">1pmo","More than once a month"],[">3pmo","More than once every 3 months"],[">1pyr","More than once a year"],["<1pyr","Less than once a year"]],!0,!0)],pager.setPage.bind(pager))},function(e,t,n){e.exports=n(0)}]);